# Авторизация и интерфейс IAccessPanel
Для того, чтобы начать работу с сервером, необходимо авторизоваться. Авторизация реализована достаточно просто - для этой задачи предусмотрен интерфейс IAccessPanel:
```protobuf
message IAccessPanel {
  message LoginRequest {
    string login    = 1;
    string password = 2;
    string ip       = 3;
    uint32 port     = 4;
  }
  message LoginSuccess {
    uint32 port     = 1;
  }
  message LoginFailed {
    string reason   = 1;
  }
  
  oneof choice {
    LoginRequest login        = 1;
    
    LoginSuccess loginSuccess = 21;
    LoginFailed  loginFailed  = 22;
  }
}
```

Данный интерфейс имеет единственную команду **LoginRequest**, в которой нужно указать:
  - **login** - имя пользователя;
  - **password** - пароль для доступа;
  - **ip:port** - IP-адрес (IPv4) и порт, с которого сервер должен принимать сообщения; все сообщения полученные с другого адреса будут проигнорированы;

Сообщение **LoginRequest** должно быть отправлено на IP:Port, на котором сервер принимает запросы на авторизацию. Их можно уточнить у администратора сервера.

> Напомню, что прежде чем отправить сообщение LoginRequest, его необходимо обернуть в сообщение IAccessPanel, которое, в свою очередь, нужно обернуть в сообщение Message! Подробнее см. п. "Сообщение верхнего уровня"

В ответ сервер может отправить одно из двух сообщений:
  - **LoginSuccess** - сообщает об успешной авторизации; передаёт порт **port**, на который необходимо отправлять все последующие сообщения;
  - **LoginFailed** - сообщает об ошибке авторизации; в поле **reason** возвращает описание ошибки.

После успешной авторизации сервер открывает UDP-порт на порту **port**, который был передан в ответе **LoginSuccess** и ожидает сообщения от отправителя **IP:Port**, которые были указаны в **LoginRequest**.
